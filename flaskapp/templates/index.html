{% extends "base.html" %}
{% block content %}
<h1>Вариант 3: изменение яркости + гистограммы</h1>
<form method="post" enctype="multipart/form-data">
  {{ form.csrf_token }}<br>

  {{ form.image.label }} {{ form.image }}<br>

  <label for="level">Яркость (0.1–3.0):</label><br>
  <input id="level" name="level" type="range" min="0.1" max="3.0" step="0.1" value="{{ form.level.data or 1.0 }}"
    oninput="level_output.value = value">
  <output name="level_output">{{ form.level.data or 1.0 }}</output><br><br>

  {{ form.recaptcha }}<br>
  {{ form.submit }}
</form>

{% if orig_filename %}
<h2>Исходное изображение</h2>
<img src="{{ url_for('uploaded_file', filename=orig_filename) }}" width="300"><br>
<h3>Гистограмма исходного</h3>
<img src="{{ url_for('output_file', filename=hist_in_filename) }}" width="300"><br>

<h2>Результат (яркость: {{ form.level.data }} )</h2>
<img src="{{ url_for('output_file', filename=out_filename) }}" width="300"><br>
<h3>Гистограмма результата</h3>
<img src="{{ url_for('output_file', filename=hist_out_filename) }}" width="300"><br>
{% endif %}
{% endblock %}